'use strict';var fs=require('fs-extra'),path=require('path'),util=require('util'),logger=require('./logger'),Promise=require('bluebird'),datauri=require('datauri').sync;class BaseWriter{/**
   *
   * @param {GWC} GWC instance
   */constructor(a){this.converter=a}write(a,b){var c=this;return new Promise(function(d,e){fs.writeFile(a,b,function(b){return b?e(b):void(logger.info(c.getExtension()+' file written: %s',a),d(a))})})}getExtension(){throw new Error('You must define an getExtension() in your writer')}getFilename(){return path.join(this.converter.getOption('output'),this.converter.getOption('filename')+'.'+this.getExtension())}getCssTags(){return this.getAssetsTags(this.converter.getCssFiles(),'css').join('\n')}getJsTags(){return this.getAssetsTags(this.converter.getJsFiles(),'js').join('\n')}getExtraCss(){var a=this.converter.getOption('tocLevel');return'.nav > li '+'> .nav > li '.repeat(a)+'{display: none;}'}getAssetsTags(a,b){return a.map(function(a){return this.getAssetSingleTag(a,b)},this)}getAssetSingleTag(a,b){var c,d;return'js'===b?(c='<script>%s</script>',d='<script src="%s" type="javascript"></script>'):(c='<style>%s</style>',d='<link href="%s" rel="stylesheet" />'),this.converter.getOption('disableInlineAssets')?util.format(d,path.basename(a)):util.format(c,fs.readFileSync(a,{encoding:'utf8'}))}createImageLogoTag(){throw new Error('You must define an createImageLogoTag(path) in your writer')}getLogoImage(){let a=this.getLogoImgPath();return a?this.createImageLogoTag(a):''}getLogoImgPath(){let a=this.converter.getOption('logoImage');return a?datauri(path.resolve(a)):a}}module.exports=BaseWriter;
//# sourceMappingURL=base-writer.js.map